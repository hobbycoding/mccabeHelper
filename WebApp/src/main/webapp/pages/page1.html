<!DOCTYPE HTML>
<html>

<head>
    <title>examples</title>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="../style/style.css"/>
</head>

<body>
<div id="main">
    <div id="header">
        <div id="logo">
            <div id="logo_text">
                <!-- class="logo_colour", allows you to change the colour of the text -->
                <h1><a href="../index.html">Report<span class="logo_colour">Result</span></a></h1>
                <h2></h2>
            </div>
        </div>
        <div id="menubar">
            <ul id="menu">
                <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
                <li><a href="../index.html">Home</a></li>
                <li class="selected"><a href="page1.html">pages1</a></li>
                <li><a href="page2.html">pages2</a></li>
                <li><a href="page3.html">pages3</a></li>
                <li><a href="page4.html">pages4</a></li>
            </ul>
        </div>
    </div>
    <div id="content_header"></div>
    <div id="site_content">
        <h2>Tables</h2>
        <div class="form_settings">
            <input type="submit" value="refresh" onclick="refresh();" class="submit" style="float:right">
            <input id="search" type="date" name="name" value="" style="float:right"/>
        </div>
        <p></p>
        <p id="table"></p>
        <script>
            document.getElementById("search").valueAsDate = new Date();
            function refresh() {
                var category = ["시스템", "업무분류", "전체Program", "테스트된 Program", "80% 미만 Program", "전체 Funtion", "테스트된 Function", "COVERAGE", "미테스트 Program"];
                var obj, dbParam, xmlhttp, jsonArray, header = "", content = "";
                obj = {"method" : "getOverView", "where" : document.getElementById("search").value};
                dbParam = JSON.stringify(obj);
                xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        jsonArray = JSON.parse(this.responseText);
                        header += "<table style=\"width:100%; border-spacing:0;\"><tr>";
                        for (var index in jsonArray) {
                            content+= "<tr>";
                            for (var entry in category) {
                                if (index == 0)
                                    header += "<th>" + category[entry] + "</th>";
                                content+="<td>" + jsonArray[index][category[entry]] + "</td>";
                            }
                        }
                        header+="</tr>";
                        console.log(header + content + "</table>");
                        document.getElementById("table").innerHTML = header + content + "</table>";
                    }
                };
                xmlhttp.open("POST", "../rest/mccabe/process", true);
                xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xmlhttp.send(dbParam);
            }
        </script>
    </div>
    <div id="content_footer"></div>
    <div id="footer">
        Copyright &copy; TestMine | <a href="http://validator.w3.org/check?uri=referer">HTML5</a> | <a
            href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a> | <a
            href="http://www.html5webtemplates.co.uk">Website templates</a>
    </div>
</div>
</body>
</html>
